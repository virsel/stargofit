{% load staticfiles %}
{% load i18n %}
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- css  -->
    <link href="{% static "css/colors/colors.css" %}" rel="stylesheet">
    <link href="{% static "css/sizing/sizing.css" %}" rel="stylesheet">
    <link href="{% static "css/layout/layout.css" %}" rel="stylesheet">
    <link href="{% static "css/sidebar_menu/sidebar_menu.css" %}" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <link href="{% static "mdb_pro/css/bootstrap.min.css" %}" rel="stylesheet">
    <link href="{% static "mdb_pro/css/mdb.min.css" %}" rel="stylesheet">
    <link href="{% static "mdb_pro/css/addons-pro/timeline.min.css" %}" rel="stylesheet">
    <link href="{% static "mdb_pro/scss/addons/_rating.css" %}" rel="stylesheet">
    <link href="{% static "css/ui_components/library/syncfusion.css" %}" rel="stylesheet">
    <link href="{% static "css/ui_components/slider.css" %}" rel="stylesheet">
    <link href="{% static "css/ui_components/form_inputs.css" %}" rel="stylesheet">

    <link href="{% static "css/base/base.css" %}" rel="stylesheet">
    <link href="{% static "css/modals/modals.css" %}" rel="stylesheet">
    <link href="{% static "css/main_top_menu/main_top_menu.css" %}" rel="stylesheet">
    <link href="{% static "css/home/home.css" %}" rel="stylesheet">
    <link href="{% static "css/subnavi_topbar/subnavi_topbar.css" %}" rel="stylesheet">
    <link href="{% static "css/sidebar_right/sidebar_right.css" %}" rel="stylesheet">

    {% block css %}
    {% endblock %}
    <!-- ###end### - css  -->
    <!-- title  -->
    <title>
        {% block title %}
        {% endblock %}
    </title>
    <!-- ###end### - title  -->
</head>


<body id="full_screen" class="draggable-parent">

<script src="{% static 'mdb_pro/js/jquery-3.4.1.min.js' %}"></script>
    <script src="{% static 'js/ui_components/library/syncfusion.js' %}"></script>
    <script src="{% static 'mdb_pro/js/addons/rating.js' %}"></script>
    <script src="{% static 'mdb_pro/js/addons-pro/timeline.min.js' %}"></script>
    <script src="{% static 'mdb_pro/js/popper.min.js' %}"></script>
    <script src="{% static 'mdb_pro/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'mdb_pro/js/mdb.min.js' %}"></script>
    <script src="{% static 'mdb_pro/Plugins/jq-draggable/js/addons/jquery-ui.min.js' %}"></script>
    <script src="{% static 'mdb_pro/Plugins/jq-draggable/js/addons/jquery-ui-touch-punch.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="{% static 'js/ui_components/slider/slider.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/ui_components/slider/custom.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/sidebar_menu.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/urls.js' %}" type="text/javascript"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
    <!-- main scripts  -->
    {% block script %}{% endblock %}
    <script>
function getCookie(name) {
    var cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = jQuery.trim(cookies[i]);
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}

// Setup AJAX
$(function () {
    $.ajaxSetup({
        headers: { "X-CSRFToken": getCookie("csrftoken") }
    });
});
 // "ready" = jQuery function that is executet when DOM hierarchy is fully constructed -> when webpage is loaded
      $(document).ready(function () {
{% block domready %}
{% endblock %}
});

toastr.options = {
  "closeButton": true,
  "debug": false,
  "newestOnTop": false,
  "progressBar": false,
  "positionClass": "md-toast-top-right",
  "preventDuplicates": false,
  "onclick": null,
  "showDuration": 300,
  "hideDuration": 1000,
  "timeOut": 0,
  "extendedTimeOut": 1000,
  "showEasing": "swing",
  "hideEasing": "linear",
  "showMethod": "fadeIn",
  "hideMethod": "fadeOut"
}
 </script>
<!-- ###end### - main scripts -->



<div id="exercise_selection_small_window" class="d-xl-none bg-c-g-blue-1-op-8">


</div>



<div class="window">
    <!-- top bar  -->
  <div class="top_menu">
<!-- top menu -->
    <nav class="navbar main navbar-expand-lg row no-gutters bg-c-g-blue-2 p-0 px-2">
      <div class="col"></div>
      <!-- Links -->
      <ul class="navbar-nav main-links col-12 col-md-8 mx-auto justify-content-center  align-items-center d-flex">

        <li class="nav-item button z-depth-1 h-p-35 left_button" id="test-el">
          <a class="nav-link waves-effect h-p-35 waves-light d-flex align-items-center justify-content-center" href="{% url 'fitness' %}" id="fitness_button">{% trans 'Fitness' %}</a>
        </li>
        <li class="nav-item logo w-max">
          <a class="waves-effect waves-light mx-2 mx-md-5" href="{% url 'start_page' %}">
            {% include 'top_menu/logo_svg.html' %}
          </a>
        </li>
        <li class="nav-item button z-depth-1 h-p-35 right_button">
          <a class="nav-link waves-effect h-p-35 waves-light d-flex align-items-center justify-content-center" href="#">{% trans 'Tipps' %}</a>
        </li>
      </ul>
        <!-- Links -->


      <ul class="navbar-nav  nav-flex-icons right col justify-content-end">
        {% if request.user.is_authenticated %}
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle waves-effect waves-light" id="navbarDropdownMenuLink-4" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-user"></i> {{ request.user.first_name }} </a>
          <div class="dropdown-menu dropdown-menu-right dropdown-info" aria-labelledby="navbarDropdownMenuLink-4">
            <a class="dropdown-item" href="{% url 'profile' %}">{% trans 'Profil' %}</a>
            <a class="dropdown-item" href="{% url 'profile_settings' %}">{% trans 'Einstellungen' %}</a>
            <a class="dropdown-item" href="{% url 'logout' %}">{% trans 'Abmelden' %}</a>
           <!-- #end top menu -- <a class="dropdown-item" href="{ url 'logout' %}">{% trans 'Ausloggen' %}</a>!-- #end top menu -->
          </div>
        </li>
        {% else %}
        <a class="nav-item dropdown login">
                    <a type="button" id="login_dropdown" class="nav-link dropdown-toggle waves-effect waves-light" onclick="fGetLoginForm()">Login <span class="caret"></span></a>
        <ul class="dropdown-menu dropdown-menu-right mt-2" id="login_dropdown_window">
                        <div class="header bg-c-g-d-3">
                          <button type="button" class="close" id="login_window_close">
                              <span aria-hidden="true" class="white-text">&times;</span>
                          </button>
                        </div>
                       <div class="px-3 py-2" id="login_form_body">
                      </div>
          {% endif %}
        </ul>
      </ul>
    </nav>


  </div>
<!-- #end top menu -->



    <!-- ###end### - top bar  -->



    <!-- warnings  -->
    <div class="main_info_messages">{% if messages %}
    <ul class="messages">
        {% for message in messages %}
        <li class="{{ message.tags }}">
            {% blocktrans %}{{ message|safe }}{% endblocktrans %}
            <a href="#" class="close">x</a>
        </li>
        {% endfor %}
    </ul>
    {% endif %}</div>
    <!-- ###end### - warnings  -->


<!-- main content  -->
<div class="main_content" id="main_content">
{% block main_content %}
{% endblock %}
</div>
<!-- ###end### - main content  -->


<!-- Footer -->
<footer class="page-footer font-small stylish-color-dark pt-4">

  <!-- Footer Links -->
  <div class="container text-center text-md-left">

    <!-- Grid row -->
    <div class="row">

      <!-- Grid column -->
      <div class="col-md-4 mx-auto">

        <!-- Content -->
        <h5 class="font-weight-bold text-uppercase mt-3 mb-4">Footer Content</h5>
        <p>Here you can use rows and columns to organize your footer content. Lorem ipsum dolor sit amet,
          consectetur
          adipisicing elit.</p>

      </div>
      <!-- Grid column -->

      <hr class="clearfix w-100 d-md-none">

      <!-- Grid column -->
      <div class="col-md-2 mx-auto">

        <!-- Links -->
        <h5 class="font-weight-bold text-uppercase mt-3 mb-4">Links</h5>

        <ul class="list-unstyled">
          <li>
            <a href="#!">Link 1</a>
          </li>
          <li>
            <a href="#!">Link 2</a>
          </li>
          <li>
            <a href="#!">Link 3</a>
          </li>
          <li>
            <a href="#!">Link 4</a>
          </li>
        </ul>

      </div>
      <!-- Grid column -->

      <hr class="clearfix w-100 d-md-none">

      <!-- Grid column -->
      <div class="col-md-2 mx-auto">

        <!-- Links -->
        <h5 class="font-weight-bold text-uppercase mt-3 mb-4">Links</h5>

        <ul class="list-unstyled">
          <li>
            <a href="#!">Link 1</a>
          </li>
          <li>
            <a href="#!">Link 2</a>
          </li>
          <li>
            <a href="#!">Link 3</a>
          </li>
          <li>
            <a href="#!">Link 4</a>
          </li>
        </ul>

      </div>
      <!-- Grid column -->

      <hr class="clearfix w-100 d-md-none">

      <!-- Grid column -->
      <div class="col-md-2 mx-auto">

        <!-- Links -->
        <h5 class="font-weight-bold text-uppercase mt-3 mb-4">Links</h5>

        <ul class="list-unstyled">
          <li>
            <a href="#!">Link 1</a>
          </li>
          <li>
            <a href="#!">Link 2</a>
          </li>
          <li>
            <a href="#!">Link 3</a>
          </li>
          <li>
            <a href="#!">Link 4</a>
          </li>
        </ul>

      </div>
      <!-- Grid column -->

    </div>
    <!-- Grid row -->

  </div>
  <!-- Footer Links -->

  <hr>

  <!-- Call to action -->
  <ul class="list-unstyled list-inline text-center py-2">
    <li class="list-inline-item">
      <h5 class="mb-1">Register for free</h5>
    </li>
    <li class="list-inline-item">
      <a href="#!" class="btn btn-danger btn-rounded">Sign up!</a>
    </li>
  </ul>
  <!-- Call to action -->

  <hr>

  <!-- Social buttons -->
  <ul class="list-unstyled list-inline text-center">
    <li class="list-inline-item">
      <a class="btn-floating btn-fb mx-1">
        <i class="fab fa-facebook-f"> </i>
      </a>
    </li>
    <li class="list-inline-item">
      <a class="btn-floating btn-tw mx-1">
        <i class="fab fa-twitter"> </i>
      </a>
    </li>
    <li class="list-inline-item">
      <a class="btn-floating btn-gplus mx-1">
        <i class="fab fa-google-plus-g"> </i>
      </a>
    </li>
    <li class="list-inline-item">
      <a class="btn-floating btn-li mx-1">
        <i class="fab fa-linkedin-in"> </i>
      </a>
    </li>
    <li class="list-inline-item">
      <a class="btn-floating btn-dribbble mx-1">
        <i class="fab fa-dribbble"> </i>
      </a>
    </li>
  </ul>
  <!-- Social buttons -->

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">© 2018 Copyright:
    <a href="https://mdbootstrap.com/education/bootstrap/"> MDBootstrap.com</a>
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->
    </div>



<!--Modal: Login / Register Form-->
<div class="modal fade" id="RegisterForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
<!-- Material form register -->
  <div class="modal-dialog" role="document">
    <div class="modal-content">
    <h5 class="card-header info-color white-text text-center py-4">
        <strong>{% trans 'Registrieren' %}</strong>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true" class="white-text">×</span>
        </button>
    </h5>

    <!--Card content-->
    <div class="card-body px-lg-5 pt-0" id="register_form_body">



    </div>

</div>
</div>
</div>


<script src="{% static 'js/main_top_menu/main_top_menu.js' %}"></script>
<script>
function fMemberLogin(e)
{
  var form = $('#login_form')
  var sEmail = $('#emailInput').val();
  var sPassword = $('#passwordInput').val();
  var settings = {
        'url': $(e).data('href'),
        "method": "POST",
        'traditional': true,
        "data": {
          password: sPassword,
          email: sEmail
        },
    }
   $.ajax(settings).done(function (data) {
     console.log(data)
   });
}


// #end get data for autocomplete
var eLogin_window = $('#login_dropdown_window');
$('#login_dropdown').on('click',function(){
    if(eLogin_window.hasClass('visible'))
    {
    eLogin_window.removeClass('visible');
    }
    else
    {
    eLogin_window.addClass('visible');
    }
});


$('#login_window_close').on('click',function(){
    eLogin_window.removeClass('visible');
});



function fMemberRegister(e)
{
    console.log('start sending register data');
  var form = $('#register_form')
  var data = form.serialize();
  console.log(data);
  var settings = {
        'url': '/de/account/register/',
        "method": "POST",
        'traditional': true,
        "data": data,
    }
   $.ajax(settings).done(function (data) {
     console.log(data)
   });
}
</script>
<!--Modal: Login / Register Form-->


<!-- save training plan modal -->
<div class="modal fade" id="save_plan_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">

  <!-- Add .modal-dialog-centered to .modal-dialog to vertically center the modal -->
  <div class="modal-dialog modal-dialog-centered" role="document">


    <div class="modal-content">
    <form>
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{% trans 'Gib deinem Plan einen Titel' %}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
             <div class="md-form">
        <i class="fas fa-tag prefix grey-text"></i>
        <input type="text" class="form-control" id="training_plan_title" name="training_plan_title" required>
        <label for="form106">{% trans 'Titel' %}</label>
      </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn red lighten-3" data-dismiss="modal">{% trans 'Schließen' %}</button>
        <input class="btn btn-light-blue" onclick="fSaveTrainingPlan()" value="{% trans 'Speichern' %}">
      </div>
      </form>
    </div>
  </div>
</div>
<!-- #end save training plan modal -->



<!-- exercise video modal -->
<div class="modal fade" id="exercise_video" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">

    <!--Content-->
    <div class="modal-content">

      <!--Body-->
      <div class="modal-body mb-0 p-0">

        <div class="embed-responsive embed-responsive-16by9 z-depth-1-half" id="video_box">

        </div>

      </div>

      <!--Footer-->
      <div class="modal-footer justify-content-center flex-column flex-md-row">
        <button type="button" class="btn btn-outline-primary btn-rounded btn-md ml-4"
          data-dismiss="modal" onclick="fCloseVideoModal()">Close</button>
      </div>

    </div>
    <!--/.Content-->

  </div>
</div>
<!-- #end exercise video modal -->

<div id="exercises_search-dialog">
<script id="exercises_search-content">
</script>
</div>



<script id='detailtemplate'>
    <table class="detailtable" width="100%">
      ${child_table}
    </table>
</script>

{% include 'fitness/training_plans/exercises_search/header.html' %}
<script src="{% static "js/top_menu.js" %}" type="text/javascript"></script>
<script>
function fGetRegisterFormBody()
{
  var settings = {
        "url": '/de/account/register/',
        "method": "GET",
        'traditional': true,
    }
  $.ajax(settings).done(function (data) {
      $('#register_form_body').empty();
      $('#register_form_body').append(data);
  });
}

function fGetLoginForm()
{
  var settings = {
        "url": '/de/account/login/',
        "method": "GET",
        'traditional': true,
    }
  $.ajax(settings).done(function (data) {
      $('#login_form_body').empty();
      $('#login_form_body').append(data);
  });
}


function DeleteOldPopups()
{
  if($('.e-dropdown-popup').length != 0)
  {
    $('.e-dropdown-popup').each(function(index){
      $(this).remove();
    });
  }
}
</script>
<script src="{% static 'js/base.js' %}"></script>
</body>
</html>